# LAMP-laravel-docker
- Ubuntu 20.04
- Docker 20.10.12
- Apache 2.0
- PHP 8.1.2
- Laravel 9.11
- MySQL 8.0.27
- PhpMyAdmin
- MongoDB 5.0
- Mongo-Express

# **[Docker Compose](https://docs.docker.com/compose/)**
Using Compose is a three-step process:
 1. Define app’s environment with a **[Dockerfile](https://docs.docker.com/engine/reference/builder/)** so it can be reproduced anywhere.
 2. Define the services that make up app in **[docker-compose.yml](https://docs.docker.com/compose/compose-file/)** so they can be run together in an isolated environment.
 3. Run **[docker compose up](https://docs.docker.com/compose/reference/up/)** and the Docker compose command starts and runs entire app. We can alternatively run docker-compose up using the docker-compose binary.


# **[Docker commands](https://docs.docker.com/engine/reference/commandline/docker/)** 

- **[$docker ps -a](https://docs.docker.com/engine/reference/commandline/ps/)**  :(--all) Show both running and stopped containers
- **[$docker-compose ps](https://docs.docker.com/compose/reference/ps/)** : Lists containers
- **[$docker pull](https://docs.docker.com/engine/reference/commandline/pull/)** : Pulls images from the repository to local environment
- **[$docker run](https://docs.docker.com/engine/reference/run/)**  : Docker runs processes in isolated containers.  
- **[$docker run -d](https://docs.docker.com/engine/reference/run/)**  : (--detach) Run container in background and print container ID 
- **[$docker run -p](https://docs.docker.com/engine/reference/run/)**  : (--publish) Publish a container's port(s) to the host
- **[$docker start](https://docs.docker.com/engine/reference/commandline/start/)**  : Start one or more stopped containers
- **[$docker stop](https://docs.docker.com/engine/reference/commandline/stop/)**  : Stop one or more running containers
- **[$docker restart](https://docs.docker.com/engine/reference/commandline/restart/)**  : Restart one or more containers 
- **[$docker ps](https://docs.docker.com/engine/reference/commandline/ps/)**  : List all running containers
- **[$docker ps -s](https://docs.docker.com/engine/reference/commandline/ps/)**  :(--size) Show disk usage by container
- **[$docker history](https://docs.docker.com/engine/reference/commandline/history/)**  : Show the history of an image
- **[$docker images](https://docs.docker.com/engine/reference/commandline/images/)**  : List docker images
- **[$docker logs](https://docs.docker.com/engine/reference/commandline/logs/)**  : Fetch the logs of a container
- **[$docker exec](https://docs.docker.com/engine/reference/commandline/exec/)**  : Run a command in a running container
- **[$docker network](https://docs.docker.com/engine/reference/commandline/network/)**  : Manage networks
- **[$docker network create](https://docs.docker.com/engine/reference/commandline/network_create/)**  : Create a network
- **[$docker volume](https://docs.docker.com/storage/volumes/)**  : Persisting data generated by and used by Docker containers.
- **[]()** 



# Docker basic operations
- $ sudo service docker status/restart : [To check status & restart docker]  
- $ docker-compose up                  : [To start and restart all the services defined in docker-compose.yml]
- $ docker-compose up -d               : [To start container in background]
- $ sudo docker ps                     : [To see current running containers]

- Now we could run http://localhost:8001/

- $ docker-compose start               : [To restart containers stopped previously]
- $ docker-compose stop   or `ctrl+c`  : [To stop running containers but won’t remove them]
- $ docker-compose down -v             : [To stop running containers, it also removes the stopped containers as well as any networks that were created and add the -v flag to remove all volumes too]



# SSH to Docker
- Go to docker dir
- Run - sudo docker ps -a [Find the container name]
- Run - sudo docker exec -it container_name bash
- Now we are inside the container - root@54278f6cb8dd:/var/www#
- Run composer - root@54278f6cb8dd:/var/www# composer


              COMPOSER

Composer 2.3.1 2022-03-30 15:41:28



# **[Commit composer.lock file to version control](https://getcomposer.org/doc/01-basic-usage.md#commit-your-composer-lock-file-to-version-control)**
- It's important because it will cause anyone who sets up the project to use the exact same versions of the dependencies that we are using.
- Command to install from composer.lock file - `php composer.phar install`

# **[Installing dependencies](https://getcomposer.org/doc/01-basic-usage.md#installing-dependencies)**
- To initially install the defined dependencies for our project, we should run the update command. `php composer.phar update`

